@import "tailwindcss";

/* 启用基于 class 的暗黑模式切换（Tailwind v4 必须） */
@custom-variant dark (&:where(.dark, .dark *));

/* Custom Base Styles for Native Feel */
@theme {
  --color-primary: #f43f5e;
  --color-primary-foreground: #ffffff;
  --color-primary-dark: #fb7185;
  
  --color-surface-light: #fafafa;
  --color-surface-dark: #171717;
  --color-surface-variant: #f5f5f5;
  --color-surface-variant-dark: #262626;
  
  --color-outline-light: #d4d4d4;
  --color-outline-dark: #525252;
  
  --font-sans: "Outfit", sans-serif;
  
  --animate-slide-up: slideUp 0.3s ease-out;
  --animate-fade-in: fadeIn 0.2s ease-out;
  --animate-ping-slow: pingSlow 3s cubic-bezier(0, 0, 0.2, 1) infinite;
  --animate-breathe: breathe 4s ease-in-out infinite;

  @keyframes slideUp {
    0% { transform: translateY(20px); opacity: 0; }
    100% { transform: translateY(0); opacity: 1; }
  }
  @keyframes fadeIn {
    0% { opacity: 0; }
    100% { opacity: 1; }
  }
  @keyframes pingSlow {
    0% { transform: scale(1); opacity: 0.3; }
    50% { transform: scale(1.15); opacity: 0.1; }
    100% { transform: scale(1); opacity: 0.3; }
  }
  @keyframes breathe {
    0%, 100% { transform: scale(1); opacity: 0.6; }
    50% { transform: scale(1.1); opacity: 0.3; }
  }
}

/* Re-declaring utilities if needed, but in v4 simple utilities work out of box. 
   We will keep the semantic mapping logic in CSS variables if possible, 
   but for now let's map the old config to this new CSS-first world or 
   rely on the generic config being picked up by the plugin if legacy support works.
   
   Actually, @tailwindcss/vite respects tailwind.config.js for backward compatibility. 
   So I can keep using @import "tailwindcss"; and it should pull in the config?
   
   Let's just use @import "tailwindcss"; and keep the rest as is for now 
   to minimize friction, assuming legacy config is loaded.
*/

html, body {
  @apply h-full w-full overflow-hidden bg-surface-light dark:bg-surface-dark text-neutral-900 dark:text-neutral-100;
  touch-action: pan-x pan-y;
  -webkit-tap-highlight-color: transparent;
}

#app {
  @apply h-full w-full relative;
}

/* Safe Area Helpers */
.safe-top {
  padding-top: env(safe-area-inset-top);
}
.safe-bottom {
  padding-bottom: env(safe-area-inset-bottom);
}

/* Scrollbar hiding for that native app feel */
.no-scrollbar::-webkit-scrollbar {
  display: none;
}
.no-scrollbar {
  -ms-overflow-style: none;  /* IE and Edge */
  scrollbar-width: none;  /* Firefox */
}

/* Radial Gradient Utility */
.bg-gradient-radial {
  background: radial-gradient(circle, var(--tw-gradient-from) 0%, var(--tw-gradient-via) 50%, var(--tw-gradient-to) 100%);
}

/* Mask gradient for scrollable lists */
.mask-gradient {
  mask-image: linear-gradient(to bottom, black 80%, transparent 100%);
  -webkit-mask-image: linear-gradient(to bottom, black 80%, transparent 100%);
}

/* 全局点击反馈 — 模拟原生 App 触摸回馈 */
button, 
[role="button"],
a,
.clickable {
  -webkit-tap-highlight-color: transparent;
  transition: transform 0.1s ease, opacity 0.1s ease;
}
button:active,
[role="button"]:active,
a:active,
.clickable:active {
  transform: scale(0.97);
  opacity: 0.85;
}
